<!-- https://x.com/calebporzio/status/1833523586008490234 -->
<ul id="demo">
    <li id="foo">foo</li>
    <li id="bar">bar</li>
    <li id="baz">baz</li>
</ul>

<button onclick="reorder()">Reorder</button>

<script>
    function reorder() {
        walk(demo, (el) => {
            el.style.viewTransitionName =
                't' + (Math.random() + 1).toString(36).substring(7)
        })

        document.startViewTransition(() => {
            demo.append(demo.firstElementChild)

            // reverse
            // demo.prepend(demo.lastElementChild);

            // move single element
            // baz.after(foo);
        })
    }

    function walk(el, callback) {
        callback(el)

        el = el.firstElementChild

        while (el) {
            walk(el, callback)
            el = el.nextElementSibling
        }
    }
</script>
